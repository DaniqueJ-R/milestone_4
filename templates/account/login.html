{% extends "base.html" %} 
{% load socialaccount %}
{% load static %}
{% load i18n %}
{% load allauth account %}

{% block title %}
Login
{% endblock%} 

{% block content %}

<section class="login-section">
  <div class="container">
    <h2>Login</h2>
    <form method="post" action="{% url 'account_login' %}">
      {% csrf_token %} 
      
      <form method="POST" action="{% url 'account_login' %}">
    {% csrf_token %}
    
    <div class="form-group login-form">
        {{ form.login.label_tag }}
        <div style="min-width: 10rem;">
          {{ form.login }}
        </div>
        
        {% if form.login.errors %}
            <div class="text-danger">{{ form.login.errors }}</div>
        {% endif %}
    </div>
    
    <div class="form-group login-form">
        {{ form.password.label_tag }}<br>
        {{ form.password }}
        {% if form.password.errors %}
            <div class="text-danger">{{ form.password.errors }}</div>
        {% endif %}
    </div>
    
    {% if form.non_field_errors %}
        <div class="text-danger">{{ form.non_field_errors }}</div>
    {% endif %}
    
    <div class="form-group login-form">
        {{ form.remember }}
        {{ form.remember.label_tag }}
    </div>
  
      <button id="login" type="submit" class="btn btn-outline-success">Login</button>
    </form>
    <br>
    {% if form.non_field_errors %}
    <div class="alert alert-danger">{{ form.non_field_errors }}</div>
    {% endif %}
    <p><a href="">Don't have an account?<br> Sign up here.</a></p>
    <p><a href="">Forgot your password?</a></p>
  </div>

  {% load socialaccount %}

<div class="container">
  <h2>
            Or use a third-party
        </h2>
        <div class="social"></div>
  <a href="{% provider_login_url 'google' %}" class="social-login-btn-content social-login">
    <img height="16px" width="16px" src="{% static 'images/google_logo.28d9eb28faa.svg' %}" alt="Google">
    Continue with Google
  </a>
</div>

</section>

{% endblock %}

{% block extra_body %}
    {{ block.super }}
    {% if PASSKEY_LOGIN_ENABLED %}
        {% include "mfa/webauthn/snippets/login_script.html" with button_id="passkey_login" %}
    {% endif %}
{% endblock %}


